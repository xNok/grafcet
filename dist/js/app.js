function svg_get(t){return'<svg><use xlink:href="sprite.svg#'+t+'"></use></svg>'}$(document).foundation();var prog_step=0,step=0,transition=0,adj_waiting_step=0,AdjList=new AdjList,ListOfEdges=new Array;AdjList.newInitialVertice(),AdjList.newVertice(),AdjList.newVertice(),AdjList.newVertice(),AdjList.newVertice(),AdjList.newAdj(0,1,"join","i0"),AdjList.newAdj(1,2,"join","i1"),AdjList.newAdj(1,3,"join","i2"),AdjList.newAdj(3,4,"join","i3"),AdjList.newAdj(1,4,"join","i1"),AdjList.setAction(0,"KM42"),AdjList.setAction(1,"KM2"),AdjList.setAction(2,"KM1"),AdjList.setAction(3,"KM2"),$(document).ready(function(){$("#adjList").adj_draw(),$("#grafcet-schema").createGrid();var t=$(".item").first();$(document).on("click",".item",function(e){t.toggleClass("active_item"),$(this).toggleClass("active_item"),t=$(this)}),$(document).on("click",".g_step",function(e){var i=$(this);if(t.hasClass("step")&&(i.drawStepOnGrid(step),i.attr("data-step",step),"Initial_Step"===t.attr("data-type")?(AdjList.newInitialVertice(),i.append(svg_get("initStep"))):(AdjList.newVertice(),i.append(svg_get("step"))),adj_setCoordinate(step,i.attr("data-x"),i.attr("data-y")),$("#adjList").adj_draw(),step++),t.hasClass("connection")){var s=i.attr("data-step");if("undefined"==typeof s)return;if(0===prog_step)$("#edgeList").edg_write2lastRowCell(0,s),adj_waiting_step=s,prog_step=1;else if(1===prog_step){var a=t.text();$("#edgeList").edg_write2lastRowCell(1,s),$("#edgeList").edg_write2lastRowCell(2,a),$("#edgeList").edg_addRow(),adj_newAdj(adj_waiting_step,s,a,""),$("#adjList").adj_draw();var d=adj_getX(adj_waiting_step)-adj_getX(s),n=adj_getY(adj_waiting_step)-adj_getY(s);if(-2===d&&0===n){var j=Number(adj_getX(s))-1,r=adj_getY(s);$(".g_trans[data-x='"+j+"'][data-y='"+r+"']").append(svg_get("join"))}prog_step=0}}})});